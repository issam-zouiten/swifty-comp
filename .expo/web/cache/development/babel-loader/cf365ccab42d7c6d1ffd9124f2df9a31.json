{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport axios from 'axios';\nimport Home_image from \"../assets/42_logo.png\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function Index(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      login = _React$useState2[0],\n      onChangeLogin = _React$useState2[1];\n\n  var image = {\n    uri: \"https://images.unsplash.com/photo-1530176928500-2372a88e00b5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MzV8fDNkJTIwYmFja2dyb3VuZCUyMHdoaXRlfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=800&q=60\"\n  };\n\n  var getToken = function getToken() {\n    var response;\n    return _regeneratorRuntime.async(function getToken$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.post(\"https://api.intra.42.fr/oauth/token\", {\n              grant_type: \"client_credentials\",\n              client_id: \"160ec65318675dc7088c2c4b6139fbae91387ae8bcc71c363e0597676532bd70\",\n              client_secret: \"21e6dfeba0b0cf4d69bd9d7516a1fafc3df090f4ba5e0538f9c6b3e258363ab0\"\n            }));\n\n          case 3:\n            response = _context.sent;\n\n            if (!response.data) {\n              _context.next = 8;\n              break;\n            }\n\n            return _context.abrupt(\"return\", response.data.access_token);\n\n          case 8:\n            console.log(\"error\");\n\n          case 9:\n            _context.next = 14;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(\"catch\");\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 11]], Promise);\n  };\n\n  var getUser = function getUser(login) {\n    var token, response;\n    return _regeneratorRuntime.async(function getUser$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!login) {\n              _context2.next = 14;\n              break;\n            }\n\n            _context2.prev = 1;\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(getToken());\n\n          case 4:\n            token = _context2.sent;\n            _context2.next = 7;\n            return _regeneratorRuntime.awrap(axios.get(\"https://api.intra.42.fr/v2/users/\" + login, {\n              headers: {\n                Authorization: \"Bearer \" + token\n              }\n            }));\n\n          case 7:\n            response = _context2.sent;\n\n            if (response.data) {\n              console.log(response.data);\n              navigation.navigate('Infos', {\n                userData: response.data\n              });\n            } else {\n              console.log(\"error\");\n            }\n\n            _context2.next = 14;\n            break;\n\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](1);\n            console.log(_context2.t0);\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[1, 11]], Promise);\n  };\n\n  var styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center'\n    },\n    viewContainer: {\n      marginTop: -100,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    tinyLogo: {\n      width: 150,\n      height: 150,\n      maxWidth: 200,\n      maxHeight: 200,\n      marginLeft: -20\n    },\n    input: {\n      width: '80%',\n      margin: 12,\n      borderWidth: 1,\n      borderRadius: 5,\n      borderColor: \"#EA7523\",\n      backgroundColor: \"white\",\n      padding: 10\n    },\n    button: {\n      backgroundColor: \"#EA7523\",\n      width: '80%',\n      padding: 10,\n      alignItems: 'center',\n      justifyContent: 'center',\n      borderRadius: 5\n    },\n    text: {\n      fontWeight: 'bold',\n      color: 'white',\n      fontSize: 17\n    }\n  });\n  return _jsx(_Fragment, {\n    children: _jsx(SafeAreaView, {\n      style: styles.container,\n      children: _jsx(ImageBackground, {\n        source: image,\n        style: {\n          width: '100%',\n          height: '100%',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        children: _jsxs(View, {\n          style: styles.viewContainer,\n          children: [_jsx(Image, {\n            style: styles.tinyLogo,\n            source: Home_image,\n            resizeMode: \"cover\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            onChangeText: onChangeLogin,\n            value: login,\n            placeholder: \"Login\"\n          }), _jsx(Pressable, {\n            style: styles.button,\n            onPress: function onPress() {\n              return getUser(login);\n            },\n            children: _jsx(Text, {\n              style: styles.text,\n              children: \"Search\"\n            })\n          })]\n        })\n      })\n    })\n  });\n}","map":{"version":3,"sources":["/Users/pc/Desktop/swifty-comp/components/Home/index.jsx"],"names":["React","axios","Home_image","Index","navigation","useState","login","onChangeLogin","image","uri","getToken","post","grant_type","client_id","client_secret","response","data","access_token","console","log","getUser","token","get","headers","Authorization","navigate","userData","styles","StyleSheet","create","container","flex","justifyContent","viewContainer","marginTop","alignItems","tinyLogo","width","height","maxWidth","maxHeight","marginLeft","input","margin","borderWidth","borderRadius","borderColor","backgroundColor","padding","button","text","fontWeight","color","fontSize"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;;;;;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP;;;;AAEA,eAAe,SAASC,KAAT,OAA+B;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAC1C,wBAA+BJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAA/B;AAAA;AAAA,MAAOC,KAAP;AAAA,MAAcC,aAAd;;AACA,MAAMC,KAAK,GAAG;AAAEC,IAAAA,GAAG,EAAE;AAAP,GAAd;;AACA,MAAMC,QAAQ,GAAG,SAAXA,QAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEcT,KAAK,CAACU,IAAN,wCACnB;AACIC,cAAAA,UAAU,EAAE,oBADhB;AAEIC,cAAAA,SAAS,EAAE,kEAFf;AAGIC,cAAAA,aAAa,EAAE;AAHnB,aADmB,CAFd;;AAAA;AAEHC,YAAAA,QAFG;;AAAA,iBASLA,QAAQ,CAACC,IATJ;AAAA;AAAA;AAAA;;AAAA,6CAUGD,QAAQ,CAACC,IAAT,CAAcC,YAVjB;;AAAA;AAaLC,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AAbK;AAAA;AAAA;;AAAA;AAAA;AAAA;AAgBTD,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AAhBS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAoBA,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAAOd,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAERA,KAFQ;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,6CAIgBI,QAAQ,EAJxB;;AAAA;AAIEW,YAAAA,KAJF;AAAA;AAAA,6CAKmBpB,KAAK,CAACqB,GAAN,uCAA8ChB,KAA9C,EACnB;AACIiB,cAAAA,OAAO,EAAE;AACLC,gBAAAA,aAAa,cAAYH;AADpB;AADb,aADmB,CALnB;;AAAA;AAKEN,YAAAA,QALF;;AAYJ,gBAAIA,QAAQ,CAACC,IAAb,EAAmB;AACfE,cAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACC,IAArB;AACAZ,cAAAA,UAAU,CAACqB,QAAX,CAAoB,OAApB,EAA6B;AAAEC,gBAAAA,QAAQ,EAAEX,QAAQ,CAACC;AAArB,eAA7B;AACH,aAHD,MAIK;AACDE,cAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACH;;AAlBG;AAAA;;AAAA;AAAA;AAAA;AAoBJD,YAAAA,OAAO,CAACC,GAAR;;AApBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAhB;;AA0BA,MAAMQ,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB;AAC7BC,IAAAA,SAAS,EAAE;AACPC,MAAAA,IAAI,EAAE,CADC;AAEPC,MAAAA,cAAc,EAAE;AAFT,KADkB;AAK7BC,IAAAA,aAAa,EAAE;AACXC,MAAAA,SAAS,EAAE,CAAC,GADD;AAEXC,MAAAA,UAAU,EAAE,QAFD;AAGXH,MAAAA,cAAc,EAAE;AAHL,KALc;AAU7BI,IAAAA,QAAQ,EAAE;AACNC,MAAAA,KAAK,EAAE,GADD;AAENC,MAAAA,MAAM,EAAE,GAFF;AAGNC,MAAAA,QAAQ,EAAE,GAHJ;AAINC,MAAAA,SAAS,EAAE,GAJL;AAKNC,MAAAA,UAAU,EAAE,CAAC;AALP,KAVmB;AAiB7BC,IAAAA,KAAK,EAAE;AACHL,MAAAA,KAAK,EAAE,KADJ;AAEHM,MAAAA,MAAM,EAAE,EAFL;AAGHC,MAAAA,WAAW,EAAE,CAHV;AAIHC,MAAAA,YAAY,EAAE,CAJX;AAKHC,MAAAA,WAAW,EAAE,SALV;AAMHC,MAAAA,eAAe,EAAE,OANd;AAOHC,MAAAA,OAAO,EAAE;AAPN,KAjBsB;AA0B7BC,IAAAA,MAAM,EAAE;AACJF,MAAAA,eAAe,EAAE,SADb;AAEJV,MAAAA,KAAK,EAAE,KAFH;AAGJW,MAAAA,OAAO,EAAE,EAHL;AAIJb,MAAAA,UAAU,EAAE,QAJR;AAKJH,MAAAA,cAAc,EAAE,QALZ;AAMJa,MAAAA,YAAY,EAAE;AANV,KA1BqB;AAkC7BK,IAAAA,IAAI,EAAE;AACFC,MAAAA,UAAU,EAAE,MADV;AAEFC,MAAAA,KAAK,EAAE,OAFL;AAGFC,MAAAA,QAAQ,EAAE;AAHR;AAlCuB,GAAlB,CAAf;AA2CA,SACI;AAAA,cACI,KAAC,YAAD;AAAc,MAAA,KAAK,EAAE1B,MAAM,CAACG,SAA5B;AAAA,gBACI,KAAC,eAAD;AAAiB,QAAA,MAAM,EAAEtB,KAAzB;AAAgC,QAAA,KAAK,EAAE;AACnC6B,UAAAA,KAAK,EAAE,MAD4B;AACpBC,UAAAA,MAAM,EAAE,MADY;AACJN,UAAAA,cAAc,EAAE,QADZ;AAEnCG,UAAAA,UAAU,EAAE;AAFuB,SAAvC;AAAA,kBAKI,MAAC,IAAD;AAAM,UAAA,KAAK,EAAER,MAAM,CAACM,aAApB;AAAA,qBACI,KAAC,KAAD;AAAO,YAAA,KAAK,EAAEN,MAAM,CAACS,QAArB;AAA+B,YAAA,MAAM,EAAElC,UAAvC;AAAmD,YAAA,UAAU,EAAC;AAA9D,YADJ,EAEI,KAAC,SAAD;AACI,YAAA,KAAK,EAAEyB,MAAM,CAACe,KADlB;AAEI,YAAA,YAAY,EAAEnC,aAFlB;AAGI,YAAA,KAAK,EAAED,KAHX;AAII,YAAA,WAAW,EAAC;AAJhB,YAFJ,EAQI,KAAC,SAAD;AACI,YAAA,KAAK,EAAEqB,MAAM,CAACsB,MADlB;AAEI,YAAA,OAAO,EAAE;AAAA,qBAAM7B,OAAO,CAACd,KAAD,CAAb;AAAA,aAFb;AAAA,sBAII,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEqB,MAAM,CAACuB,IAApB;AAAA;AAAA;AAJJ,YARJ;AAAA;AALJ;AADJ;AADJ,IADJ;AA4BH","sourcesContent":["import React from 'react'\nimport { StyleSheet, Text, View, Pressable, TextInput, ImageBackground, SafeAreaView, Image, ActivityIndicator } from 'react-native';\nimport axios from 'axios';\nimport Home_image from '../assets/42_logo.png';\n\nexport default function Index({ navigation }) {\n    const [login, onChangeLogin] = React.useState(\"\");\n    const image = { uri: \"https://images.unsplash.com/photo-1530176928500-2372a88e00b5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MzV8fDNkJTIwYmFja2dyb3VuZCUyMHdoaXRlfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=800&q=60\" };\n    const getToken = async () => {\n        try {\n            const response = await axios.post(`https://api.intra.42.fr/oauth/token`,\n                {\n                    grant_type: \"client_credentials\",\n                    client_id: \"160ec65318675dc7088c2c4b6139fbae91387ae8bcc71c363e0597676532bd70\",\n                    client_secret: \"21e6dfeba0b0cf4d69bd9d7516a1fafc3df090f4ba5e0538f9c6b3e258363ab0\",\n                }\n            )\n            if (response.data) {\n                return (response.data.access_token)\n            }\n            else {\n                console.log(\"error\");\n            }\n        } catch (error) {\n            console.log(\"catch\");\n        }\n    }\n\n    const getUser = async (login) => {\n\n        if (login) {\n            try {\n                const token = await getToken();\n                const response = await axios.get(`https://api.intra.42.fr/v2/users/${login}`,\n                    {\n                        headers: {\n                            Authorization: `Bearer ${token}`\n                        }\n                    }\n                );\n                if (response.data) {\n                    console.log(response.data)\n                    navigation.navigate('Infos', { userData: response.data })\n                }\n                else {\n                    console.log(\"error\");\n                }\n            } catch (error) {\n                console.log(error);\n            }\n        }\n\n    }\n\n    const styles = StyleSheet.create({\n        container: {\n            flex: 1,\n            justifyContent: 'center',\n        },\n        viewContainer: {\n            marginTop: -100,\n            alignItems: 'center',\n            justifyContent: 'center',\n        },\n        tinyLogo: {\n            width: 150,\n            height: 150,\n            maxWidth: 200,\n            maxHeight: 200,\n            marginLeft: -20,\n        },\n        input: {\n            width: '80%',\n            margin: 12,\n            borderWidth: 1,\n            borderRadius: 5,\n            borderColor: \"#EA7523\",\n            backgroundColor: \"white\",\n            padding: 10,\n        },\n        button: {\n            backgroundColor: \"#EA7523\",\n            width: '80%',\n            padding: 10,\n            alignItems: 'center',\n            justifyContent: 'center',\n            borderRadius: 5,\n        },\n        text: {\n            fontWeight: 'bold',\n            color: 'white',\n            fontSize: 17,\n    \n        },\n\n    });\n\n    return (\n        <>\n            <SafeAreaView style={styles.container}>\n                <ImageBackground source={image} style={{\n                    width: '100%', height: '100%', justifyContent: 'center',\n                    alignItems: 'center',\n                }}>\n                   {/* {!loading ? */}\n                    <View style={styles.viewContainer}>\n                        <Image style={styles.tinyLogo} source={Home_image} resizeMode=\"cover\" />\n                        <TextInput\n                            style={styles.input}\n                            onChangeText={onChangeLogin}\n                            value={login}\n                            placeholder=\"Login\"\n                        />\n                        <Pressable\n                            style={styles.button}\n                            onPress={() => getUser(login)}\n                        >\n                            <Text style={styles.text}>Search</Text>\n                        </Pressable>\n                    </View>\n                    {/* : <ActivityIndicator size=\"large\" color=\"#00b0b2\" />} */}\n                </ImageBackground>\n            </SafeAreaView>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}