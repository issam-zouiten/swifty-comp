{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport axios from \"axios\";\nimport Home_image from \"../../assets/42_logo.png\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function Index(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      login = _React$useState2[0],\n      onChangeLogin = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      loading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  var image = {\n    uri: \"https://images.unsplash.com/photo-1530176928500-2372a88e00b5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MzV8fDNkJTIwYmFja2dyb3VuZCUyMHdoaXRlfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=800&q=60\"\n  };\n\n  var getToken = function getToken() {\n    var response;\n    return _regeneratorRuntime.async(function getToken$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.post(\"https://api.intra.42.fr/oauth/token\", {\n              grant_type: \"client_credentials\",\n              client_id: \"160ec65318675dc7088c2c4b6139fbae91387ae8bcc71c363e0597676532bd70\",\n              client_secret: \"21e6dfeba0b0cf4d69bd9d7516a1fafc3df090f4ba5e0538f9c6b3e258363ab0\"\n            }));\n\n          case 3:\n            response = _context.sent;\n\n            if (!response.data) {\n              _context.next = 9;\n              break;\n            }\n\n            console.log(response.data.access_token);\n            return _context.abrupt(\"return\", response.data.access_token);\n\n          case 9:\n            console.log(\"error\");\n\n          case 10:\n            _context.next = 15;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(\"catch\");\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 12]], Promise);\n  };\n\n  var sendData = function sendData(login, token) {\n    var response, coalition;\n    return _regeneratorRuntime.async(function sendData$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(axios.get(\"https://api.intra.42.fr/v2/users/\" + login.trim().toLowerCase(), {\n              headers: {\n                Authorization: \"Bearer \" + token\n              }\n            }));\n\n          case 3:\n            response = _context2.sent;\n            console.log(response.data);\n\n            if (!response.data) {\n              _context2.next = 11;\n              break;\n            }\n\n            _context2.next = 8;\n            return _regeneratorRuntime.awrap(axios.get(\"https://api.intra.42.fr/v2/users/\" + response.data.id + \"/coalitions\", {\n              headers: {\n                Authorization: \"Bearer \" + token\n              }\n            }));\n\n          case 8:\n            coalition = _context2.sent;\n            console.log(coalition.data);\n\n            if (coalition.data) {\n              setLoading(false);\n            }\n\n          case 11:\n            _context2.next = 18;\n            break;\n\n          case 13:\n            _context2.prev = 13;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0.message);\n            alert(\"login doesnt exist\");\n            setLoading(false);\n\n          case 18:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 13]], Promise);\n  };\n\n  var getUser = function getUser(login) {\n    var token;\n    return _regeneratorRuntime.async(function getUser$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            setLoading(true);\n            login.trim();\n\n            if (!(login && login !== \"\")) {\n              _context3.next = 37;\n              break;\n            }\n\n            _context3.prev = 3;\n            _context3.next = 6;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"access_token\"));\n\n          case 6:\n            token = _context3.sent;\n\n            if (!token) {\n              _context3.next = 19;\n              break;\n            }\n\n            token = JSON.parse(token);\n\n            if (!(token.created_at + token.expires_in <= Date.now() / 1000)) {\n              _context3.next = 17;\n              break;\n            }\n\n            console.log(\"token expired\");\n            _context3.next = 13;\n            return _regeneratorRuntime.awrap(getToken());\n\n          case 13:\n            token = _context3.sent;\n\n            if (!token) {\n              _context3.next = 17;\n              break;\n            }\n\n            _context3.next = 17;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"access_token\", JSON.stringify(token)));\n\n          case 17:\n            _context3.next = 26;\n            break;\n\n          case 19:\n            _context3.next = 21;\n            return _regeneratorRuntime.awrap(getToken());\n\n          case 21:\n            token = _context3.sent;\n            console.log(token);\n\n            if (!token) {\n              _context3.next = 26;\n              break;\n            }\n\n            _context3.next = 26;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"access_token\", JSON.stringify(token)));\n\n          case 26:\n            _context3.next = 28;\n            return _regeneratorRuntime.awrap(sendData(login, token));\n\n          case 28:\n            _context3.next = 35;\n            break;\n\n          case 30:\n            _context3.prev = 30;\n            _context3.t0 = _context3[\"catch\"](3);\n            console.log(_context3.t0);\n            alert(_context3.t0);\n            setLoading(false);\n\n          case 35:\n            _context3.next = 38;\n            break;\n\n          case 37:\n            alert(\"you should set a login first\");\n\n          case 38:\n            setLoading(false);\n\n          case 39:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[3, 30]], Promise);\n  };\n\n  var styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      justifyContent: \"center\"\n    },\n    viewContainer: {\n      marginTop: -100,\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    tinyLogo: {\n      width: 150,\n      height: 150,\n      maxWidth: 200,\n      maxHeight: 200,\n      marginLeft: -20\n    },\n    input: {\n      width: \"80%\",\n      margin: 12,\n      borderWidth: 1,\n      borderRadius: 5,\n      borderColor: \"#EA7523\",\n      backgroundColor: \"white\",\n      padding: 10\n    },\n    button: {\n      backgroundColor: \"#EA7523\",\n      width: \"80%\",\n      padding: 10,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      borderRadius: 5\n    },\n    text: {\n      fontWeight: \"bold\",\n      color: \"white\",\n      fontSize: 17\n    }\n  });\n  return _jsx(_Fragment, {\n    children: _jsx(SafeAreaView, {\n      style: styles.container,\n      children: _jsx(ImageBackground, {\n        source: image,\n        style: {\n          width: \"100%\",\n          height: \"100%\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        children: !loading ? _jsxs(View, {\n          style: styles.viewContainer,\n          children: [_jsx(Image, {\n            style: styles.tinyLogo,\n            source: Home_image,\n            resizeMode: \"cover\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            onChangeText: onChangeLogin,\n            value: login,\n            placeholder: \"Login\"\n          }), _jsx(Pressable, {\n            style: styles.button,\n            onPress: function onPress() {\n              return getUser(login);\n            },\n            children: _jsx(Text, {\n              style: styles.text,\n              children: \"Search\"\n            })\n          })]\n        }) : _jsx(ActivityIndicator, {\n          size: \"large\",\n          color: \"#00b0b2\"\n        })\n      })\n    })\n  });\n}","map":{"version":3,"sources":["/Users/pc/Desktop/swifty-comp/components/Home/index.jsx"],"names":["React","axios","Home_image","AsyncStorage","Index","navigation","useState","login","onChangeLogin","loading","setLoading","image","uri","getToken","post","grant_type","client_id","client_secret","response","data","console","log","access_token","sendData","token","get","trim","toLowerCase","headers","Authorization","id","coalition","message","alert","getUser","getItem","JSON","parse","created_at","expires_in","Date","now","setItem","stringify","styles","StyleSheet","create","container","flex","justifyContent","viewContainer","marginTop","alignItems","tinyLogo","width","height","maxWidth","maxHeight","marginLeft","input","margin","borderWidth","borderRadius","borderColor","backgroundColor","padding","button","text","fontWeight","color","fontSize"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;;;;;AAYA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP;AACA,OAAOC,YAAP,MAAyB,2CAAzB;;;;AAEA,eAAe,SAASC,KAAT,OAA+B;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAC5C,wBAA+BL,KAAK,CAACM,QAAN,CAAe,EAAf,CAA/B;AAAA;AAAA,MAAOC,KAAP;AAAA,MAAcC,aAAd;;AACA,yBAA8BR,KAAK,CAACM,QAAN,CAAe,KAAf,CAA9B;AAAA;AAAA,MAAOG,OAAP;AAAA,MAAgBC,UAAhB;;AAEA,MAAMC,KAAK,GAAG;AACZC,IAAAA,GAAG,EAAE;AADO,GAAd;;AAGA,MAAMC,QAAQ,GAAG,SAAXA,QAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEUZ,KAAK,CAACa,IAAN,wCAAkD;AACvEC,cAAAA,UAAU,EAAE,oBAD2D;AAEvEC,cAAAA,SAAS,EACP,kEAHqE;AAIvEC,cAAAA,aAAa,EACX;AALqE,aAAlD,CAFV;;AAAA;AAEPC,YAAAA,QAFO;;AAAA,iBASTA,QAAQ,CAACC,IATA;AAAA;AAAA;AAAA;;AAUXC,YAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,IAAT,CAAcG,YAA1B;AAVW,6CAWJJ,QAAQ,CAACC,IAAT,CAAcG,YAXV;;AAAA;AAaXF,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AAbW;AAAA;AAAA;;AAAA;AAAA;AAAA;AAgBbD,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AAhBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAmBA,MAAME,QAAQ,GAAG,SAAXA,QAAW,CAAOhB,KAAP,EAAciB,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEQvB,KAAK,CAACwB,GAAN,CACnB,sCAAsClB,KAAK,CAACmB,IAAN,GAAaC,WAAb,EADnB,EAEnB;AACEC,cAAAA,OAAO,EAAE;AACPC,gBAAAA,aAAa,EAAE,YAAYL;AADpB;AADX,aAFmB,CAFR;;AAAA;AAETN,YAAAA,QAFS;AAUbE,YAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,IAArB;;AAVa,iBAWTD,QAAQ,CAACC,IAXA;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAYWlB,KAAK,CAACwB,GAAN,CACpB,sCACEP,QAAQ,CAACC,IAAT,CAAcW,EADhB,GAEE,aAHkB,EAIpB;AACEF,cAAAA,OAAO,EAAE;AACPC,gBAAAA,aAAa,EAAE,YAAYL;AADpB;AADX,aAJoB,CAZX;;AAAA;AAYPO,YAAAA,SAZO;AAsBXX,YAAAA,OAAO,CAACC,GAAR,CAAYU,SAAS,CAACZ,IAAtB;;AACA,gBAAIY,SAAS,CAACZ,IAAd,EAAoB;AAClBT,cAAAA,UAAU,CAAC,KAAD,CAAV;AAED;;AA1BU;AAAA;AAAA;;AAAA;AAAA;AAAA;AA6BbU,YAAAA,OAAO,CAACC,GAAR,CAAY,aAAMW,OAAlB;AACAC,YAAAA,KAAK,CAAC,oBAAD,CAAL;AACAvB,YAAAA,UAAU,CAAC,KAAD,CAAV;;AA/Ba;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAmCA,MAAMwB,OAAO,GAAG,SAAVA,OAAU,CAAO3B,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACdG,YAAAA,UAAU,CAAC,IAAD,CAAV;AACAH,YAAAA,KAAK,CAACmB,IAAN;;AAFc,kBAGVnB,KAAK,IAAIA,KAAK,KAAK,EAHT;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,6CAKQJ,YAAY,CAACgC,OAAb,CAAqB,cAArB,CALR;;AAAA;AAKNX,YAAAA,KALM;;AAAA,iBAMNA,KANM;AAAA;AAAA;AAAA;;AAORA,YAAAA,KAAK,GAAGY,IAAI,CAACC,KAAL,CAAWb,KAAX,CAAR;;AAPQ,kBAQJA,KAAK,CAACc,UAAN,GAAmBd,KAAK,CAACe,UAAzB,IAAuCC,IAAI,CAACC,GAAL,KAAa,IARhD;AAAA;AAAA;AAAA;;AASNrB,YAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AATM;AAAA,6CAUQR,QAAQ,EAVhB;;AAAA;AAUNW,YAAAA,KAVM;;AAAA,iBAWFA,KAXE;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAYErB,YAAY,CAACuC,OAAb,CAAqB,cAArB,EAAqCN,IAAI,CAACO,SAAL,CAAenB,KAAf,CAArC,CAZF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,6CAeMX,QAAQ,EAfd;;AAAA;AAeRW,YAAAA,KAfQ;AAgBRJ,YAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;;AAhBQ,iBAiBJA,KAjBI;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAkBArB,YAAY,CAACuC,OAAb,CAAqB,cAArB,EAAqCN,IAAI,CAACO,SAAL,CAAenB,KAAf,CAArC,CAlBA;;AAAA;AAAA;AAAA,6CAoBJD,QAAQ,CAAChB,KAAD,EAAQiB,KAAR,CApBJ;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAsBVJ,YAAAA,OAAO,CAACC,GAAR;AACAY,YAAAA,KAAK,cAAL;AACAvB,YAAAA,UAAU,CAAC,KAAD,CAAV;;AAxBU;AAAA;AAAA;;AAAA;AA0BPuB,YAAAA,KAAK,CAAC,8BAAD,CAAL;;AA1BO;AA2BdvB,YAAAA,UAAU,CAAC,KAAD,CAAV;;AA3Bc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAhB;;AA8BA,MAAMkC,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB;AAC/BC,IAAAA,SAAS,EAAE;AACTC,MAAAA,IAAI,EAAE,CADG;AAETC,MAAAA,cAAc,EAAE;AAFP,KADoB;AAK/BC,IAAAA,aAAa,EAAE;AACbC,MAAAA,SAAS,EAAE,CAAC,GADC;AAEbC,MAAAA,UAAU,EAAE,QAFC;AAGbH,MAAAA,cAAc,EAAE;AAHH,KALgB;AAU/BI,IAAAA,QAAQ,EAAE;AACRC,MAAAA,KAAK,EAAE,GADC;AAERC,MAAAA,MAAM,EAAE,GAFA;AAGRC,MAAAA,QAAQ,EAAE,GAHF;AAIRC,MAAAA,SAAS,EAAE,GAJH;AAKRC,MAAAA,UAAU,EAAE,CAAC;AALL,KAVqB;AAiB/BC,IAAAA,KAAK,EAAE;AACLL,MAAAA,KAAK,EAAE,KADF;AAELM,MAAAA,MAAM,EAAE,EAFH;AAGLC,MAAAA,WAAW,EAAE,CAHR;AAILC,MAAAA,YAAY,EAAE,CAJT;AAKLC,MAAAA,WAAW,EAAE,SALR;AAMLC,MAAAA,eAAe,EAAE,OANZ;AAOLC,MAAAA,OAAO,EAAE;AAPJ,KAjBwB;AA0B/BC,IAAAA,MAAM,EAAE;AACNF,MAAAA,eAAe,EAAE,SADX;AAENV,MAAAA,KAAK,EAAE,KAFD;AAGNW,MAAAA,OAAO,EAAE,EAHH;AAINb,MAAAA,UAAU,EAAE,QAJN;AAKNH,MAAAA,cAAc,EAAE,QALV;AAMNa,MAAAA,YAAY,EAAE;AANR,KA1BuB;AAkC/BK,IAAAA,IAAI,EAAE;AACJC,MAAAA,UAAU,EAAE,MADR;AAEJC,MAAAA,KAAK,EAAE,OAFH;AAGJC,MAAAA,QAAQ,EAAE;AAHN;AAlCyB,GAAlB,CAAf;AAyCA,SACE;AAAA,cACE,KAAC,YAAD;AAAc,MAAA,KAAK,EAAE1B,MAAM,CAACG,SAA5B;AAAA,gBACE,KAAC,eAAD;AACE,QAAA,MAAM,EAAEpC,KADV;AAEE,QAAA,KAAK,EAAE;AACL2C,UAAAA,KAAK,EAAE,MADF;AAELC,UAAAA,MAAM,EAAE,MAFH;AAGLN,UAAAA,cAAc,EAAE,QAHX;AAILG,UAAAA,UAAU,EAAE;AAJP,SAFT;AAAA,kBASG,CAAC3C,OAAD,GACC,MAAC,IAAD;AAAM,UAAA,KAAK,EAAEmC,MAAM,CAACM,aAApB;AAAA,qBACE,KAAC,KAAD;AACE,YAAA,KAAK,EAAEN,MAAM,CAACS,QADhB;AAEE,YAAA,MAAM,EAAEnD,UAFV;AAGE,YAAA,UAAU,EAAC;AAHb,YADF,EAME,KAAC,SAAD;AACE,YAAA,KAAK,EAAE0C,MAAM,CAACe,KADhB;AAEE,YAAA,YAAY,EAAEnD,aAFhB;AAGE,YAAA,KAAK,EAAED,KAHT;AAIE,YAAA,WAAW,EAAC;AAJd,YANF,EAYE,KAAC,SAAD;AAAW,YAAA,KAAK,EAAEqC,MAAM,CAACsB,MAAzB;AAAiC,YAAA,OAAO,EAAE;AAAA,qBAAMhC,OAAO,CAAC3B,KAAD,CAAb;AAAA,aAA1C;AAAA,sBACE,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEqC,MAAM,CAACuB,IAApB;AAAA;AAAA;AADF,YAZF;AAAA,UADD,GAkBC,KAAC,iBAAD;AAAmB,UAAA,IAAI,EAAC,OAAxB;AAAgC,UAAA,KAAK,EAAC;AAAtC;AA3BJ;AADF;AADF,IADF;AAoCD","sourcesContent":["import React from \"react\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  Pressable,\n  TextInput,\n  ImageBackground,\n  SafeAreaView,\n  Image,\n  ActivityIndicator,\n} from \"react-native\";\nimport axios from \"axios\";\nimport Home_image from \"../../assets/42_logo.png\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nexport default function Index({ navigation }) {\n  const [login, onChangeLogin] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  const image = {\n    uri: \"https://images.unsplash.com/photo-1530176928500-2372a88e00b5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MzV8fDNkJTIwYmFja2dyb3VuZCUyMHdoaXRlfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  };\n  const getToken = async () => {\n    try {\n      const response = await axios.post(`https://api.intra.42.fr/oauth/token`, {\n        grant_type: \"client_credentials\",\n        client_id:\n          \"160ec65318675dc7088c2c4b6139fbae91387ae8bcc71c363e0597676532bd70\",\n        client_secret:\n          \"21e6dfeba0b0cf4d69bd9d7516a1fafc3df090f4ba5e0538f9c6b3e258363ab0\",\n      });\n      if (response.data) {\n        console.log(response.data.access_token);\n        return response.data.access_token;\n      } else {\n        console.log(\"error\");\n      }\n    } catch (error) {\n      console.log(\"catch\");\n    }\n  };\n  const sendData = async (login, token) => {\n    try {\n      var response = await axios.get(\n        \"https://api.intra.42.fr/v2/users/\" + login.trim().toLowerCase(),\n        {\n          headers: {\n            Authorization: \"Bearer \" + token,\n          },\n        }\n      );\n      console.log(response.data);\n      if (response.data) {\n        var coalition = await axios.get(\n          \"https://api.intra.42.fr/v2/users/\" +\n            response.data.id +\n            \"/coalitions\",\n          {\n            headers: {\n              Authorization: \"Bearer \" + token,\n            },\n          }\n        );\n        console.log(coalition.data);\n        if (coalition.data) {\n          setLoading(false);\n          // navigation.navigate(\"Details\", { data: response.data, coalition: coalition.data });\n        }\n      }\n    } catch (error) {\n      console.log(error.message);\n      alert(\"login doesnt exist\");\n      setLoading(false);\n    }\n  };\n\n  const getUser = async (login) => {\n    setLoading(true);\n    login.trim();\n    if (login && login !== \"\") {\n      try {\n        var token = await AsyncStorage.getItem(\"access_token\");\n        if (token) {\n          token = JSON.parse(token);\n          if (token.created_at + token.expires_in <= Date.now() / 1000) {\n            console.log(\"token expired\");\n            token = await getToken();\n            if (token)\n              await AsyncStorage.setItem(\"access_token\", JSON.stringify(token));\n          }\n        } else {\n          token = await getToken();\n          console.log(token);\n          if (token)\n            await AsyncStorage.setItem(\"access_token\", JSON.stringify(token));\n        }\n        await sendData(login, token);\n      } catch (error) {\n        console.log(error);\n        alert(error);\n        setLoading(false);\n      }\n    } else alert(\"you should set a login first\");\n    setLoading(false);\n  };\n\n  const styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      justifyContent: \"center\",\n    },\n    viewContainer: {\n      marginTop: -100,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    tinyLogo: {\n      width: 150,\n      height: 150,\n      maxWidth: 200,\n      maxHeight: 200,\n      marginLeft: -20,\n    },\n    input: {\n      width: \"80%\",\n      margin: 12,\n      borderWidth: 1,\n      borderRadius: 5,\n      borderColor: \"#EA7523\",\n      backgroundColor: \"white\",\n      padding: 10,\n    },\n    button: {\n      backgroundColor: \"#EA7523\",\n      width: \"80%\",\n      padding: 10,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      borderRadius: 5,\n    },\n    text: {\n      fontWeight: \"bold\",\n      color: \"white\",\n      fontSize: 17,\n    },\n  });\n\n  return (\n    <>\n      <SafeAreaView style={styles.container}>\n        <ImageBackground\n          source={image}\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          {!loading ? (\n            <View style={styles.viewContainer}>\n              <Image\n                style={styles.tinyLogo}\n                source={Home_image}\n                resizeMode=\"cover\"\n              />\n              <TextInput\n                style={styles.input}\n                onChangeText={onChangeLogin}\n                value={login}\n                placeholder=\"Login\"\n              />\n              <Pressable style={styles.button} onPress={() => getUser(login)}>\n                <Text style={styles.text}>Search</Text>\n              </Pressable>\n            </View>\n          ) : (\n            <ActivityIndicator size=\"large\" color=\"#00b0b2\" />\n          )}\n        </ImageBackground>\n      </SafeAreaView>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}